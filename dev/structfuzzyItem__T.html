<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>Neovim: fuzzyItem_T Struct Reference</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
<link href="http://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<header class="navbar">
  <div class="container">
    <nav class="site-nav">
      <ul>
        <li><a href="http://neovim.io/">Neovim Home</a></li>
      </ul>
    </nav>
    <a href="index.html">
      <img src="logo-devdoc.png" class="logo" alt="Neovim Dev-Doc">
    </a>
  </div>
</header>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">fuzzyItem_T Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a1d739995a04e9b75cf898160cfad51df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfuzzyItem__T.html#a1d739995a04e9b75cf898160cfad51df">idx</a></td></tr>
<tr class="memdesc:a1d739995a04e9b75cf898160cfad51df"><td class="mdescLeft">&#160;</td><td class="mdescRight">used for stable sort  <a href="structfuzzyItem__T.html#a1d739995a04e9b75cf898160cfad51df">More...</a><br /></td></tr>
<tr class="separator:a1d739995a04e9b75cf898160cfad51df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9218434e83198b550e6329395e231de3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typval_8h.html#ae67d3a76b367f373d49940f75ebbe21a">listitem_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfuzzyItem__T.html#a9218434e83198b550e6329395e231de3">item</a></td></tr>
<tr class="separator:a9218434e83198b550e6329395e231de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a964c41daf0eca48a79f819c008ef0fed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfuzzyItem__T.html#a964c41daf0eca48a79f819c008ef0fed">score</a></td></tr>
<tr class="separator:a964c41daf0eca48a79f819c008ef0fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5867738008ddac7923436cc56f587823"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typval_8h.html#a11ffae1e2b70b0e8b9d419277639945a">list_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfuzzyItem__T.html#a5867738008ddac7923436cc56f587823">lmatchpos</a></td></tr>
<tr class="separator:a5867738008ddac7923436cc56f587823"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Fuzzy string matching</p>
<p>Ported from the lib_fts library authored by Forrest Smith. <a href="https://github.com/forrestthewoods/lib_fts/tree/master/code">https://github.com/forrestthewoods/lib_fts/tree/master/code</a></p>
<p>The following blog describes the fuzzy matching algorithm: <a href="https://www.forrestthewoods.com/blog/reverse_engineering_sublime_texts_fuzzy_match/">https://www.forrestthewoods.com/blog/reverse_engineering_sublime_texts_fuzzy_match/</a></p>
<p>Each matching string is assigned a score. The following factors are checked:</p><ul>
<li>Matched letter</li>
<li>Unmatched letter</li>
<li>Consecutively matched letters</li>
<li>Proximity to start</li>
<li>Letter following a separator (space, underscore)</li>
<li>Uppercase letter following lowercase (aka CamelCase)</li>
</ul>
<p>Matched letters are good. Unmatched letters are bad. Matching near the start is good. Matching the first letter in the middle of a phrase is good. Matching the uppercase letters in camel case entries is good.</p>
<p>The score assigned for each factor is explained below. File paths are different from file names. File extensions may be ignorable. Single words care about consecutive matches but not separators or camel case. Score starts at 100 Matched letter: +0 points Unmatched letter: -1 point Consecutive match bonus: +15 points First letter bonus: +15 points Separator bonus: +30 points Camel case bonus: +30 points Unmatched leading letter: -5 points (max: -15)</p>
<p>There is some nuance to this. Scores don’t have an intrinsic meaning. The score range isn’t 0 to 100. It’s roughly [50, 150]. Longer words have a lower minimum score due to unmatched letter penalty. Longer search patterns have a higher maximum score due to match bonuses.</p>
<p>Separator and camel case bonus is worth a LOT. Consecutive matches are worth quite a bit.</p>
<p>There is a penalty if you DON’T match the first three letters. Which effectively rewards matching near the start. However there’s no difference in matching between the middle and end.</p>
<p>There is not an explicit bonus for an exact match. Unmatched letters receive a penalty. So shorter strings and closer matches are worth more. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a1d739995a04e9b75cf898160cfad51df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d739995a04e9b75cf898160cfad51df">&#9670;&nbsp;</a></span>idx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fuzzyItem_T::idx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>used for stable sort </p>

</div>
</div>
<a id="a9218434e83198b550e6329395e231de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9218434e83198b550e6329395e231de3">&#9670;&nbsp;</a></span>item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typval_8h.html#ae67d3a76b367f373d49940f75ebbe21a">listitem_T</a>* fuzzyItem_T::item</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5867738008ddac7923436cc56f587823"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5867738008ddac7923436cc56f587823">&#9670;&nbsp;</a></span>lmatchpos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typval_8h.html#a11ffae1e2b70b0e8b9d419277639945a">list_T</a>* fuzzyItem_T::lmatchpos</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a964c41daf0eca48a79f819c008ef0fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a964c41daf0eca48a79f819c008ef0fed">&#9670;&nbsp;</a></span>score</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fuzzyItem_T::score</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/nvim/<a class="el" href="search_8c.html">search.c</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<footer>
  <div class="container">
    Generated on Wed Jun 1 2022 11:19:19 for Neovim by
    <a href="http://www.doxygen.org/index.html">Doxygen</a>
    1.8.17
  </div>
</footer>
</body>
</html>
